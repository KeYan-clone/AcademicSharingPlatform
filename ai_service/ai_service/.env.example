#!/bin/bash
# AI 服务环境变量配置
# 注意：生产环境中请设置真实的 API Key

# 阿里云 API 配置
export ALIYUN_API_KEY="${ALIYUN_API_KEY:-sk-placeholder}"
export ALIYUN_API_BASE="${ALIYUN_API_BASE:-https://dashscope.aliyuncs.com/api/v1}"

# 数据库配置（与多模态服务共享）
export MULTIMODAL_DATABASE_URL="${MULTIMODAL_DATABASE_URL:-mysql+pymysql://root:buaa.@localhost:3306/courseplatform?charset=utf8mb4}"

# 存储配置
export STORAGE_ROOT="${STORAGE_ROOT:-/app/ai_service/storage}"
export PRIVATE_KB_ROOT="${PRIVATE_KB_ROOT:-/app/ai_service/private_kb}"

# 日志配置
export LOG_LEVEL="${LOG_LEVEL:-INFO}"
export LOG_DIR="${LOG_DIR:-/app/ai_service/logs}"

# 服务配置
export AI_SERVICE_HOST="${AI_SERVICE_HOST:-0.0.0.0}"
export AI_SERVICE_PORT="${AI_SERVICE_PORT:-8000}"

# 模型配置
export DEFAULT_MODEL="${DEFAULT_MODEL:-qwen-plus}"
export EMBEDDING_MODEL="${EMBEDDING_MODEL:-text-embedding-v2}"

echo "AI Service environment configured:"
echo "- API Base: $ALIYUN_API_BASE"
echo "- Service: $AI_SERVICE_HOST:$AI_SERVICE_PORT"
echo "- Storage: $STORAGE_ROOT"
echo "- Database: $MULTIMODAL_DATABASE_URL"
